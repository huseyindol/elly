spring.application.name=elly

# --- Local Docker PostgreSQL ---
spring.datasource.url=jdbc:postgresql://${DB_HOST}:${DB_PORT}/${DB_NAME}
# --- NeonDB (Cloud) ---
# spring.datasource.url=jdbc:postgresql:${DB_HOST}/${DB_NAME}?sslmode=require&channel_binding=require&connectTimeout=60&socketTimeout=60
spring.datasource.hikari.schema=${DB_SCHEMA}
spring.datasource.username=${DB_USER}
spring.datasource.password=${DB_PASSWORD}
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.docker.compose.enabled=false
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.default_schema=${DB_SCHEMA}
# Database indexes - Manual execution required after tables are created
# Run: psql -U postgres -d postgres -f src/main/resources/db-indexes.sql
# spring.sql.init.mode=always
# spring.sql.init.schema-locations=classpath:db-indexes.sql

springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.enabled=true

# File upload configuration
file.upload.directory=assets/images
file.upload.directory.files=assets
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# JWT Configuration
jwt.secret=${JWT_SECRET:mySecretKey123456789012345678901234567890}
jwt.encryption.secret=${JWT_ENCRYPTION_SECRET:myEncryptionKey123456789012345678901234567890}
# 30 dk (milisaniye)
jwt.expiration=1800000
# 60 dk (milisaniye)
jwt.refresh.expiration=3600000

# Application Configuration
# Application timezone (default: Europe/Istanbul - GMT+3)
app.timezone=Europe/Istanbul

# Cookie Configuration
# Access token cookie expiration (saniye cinsinden) - 30 dakika
cookie.access-token.expiration=1800
# Refresh token cookie expiration (saniye cinsinden) - 60 dakika
cookie.refresh-token.expiration=3600
# User code cookie expiration (saniye cinsinden) - 60 dakika
cookie.user-code.expiration=3600
# Cookie secure flag (HTTPS için true, HTTP development için false)
cookie.secure=${COOKIE_SECURE:false}

# OAuth2 Configuration
app.oauth2.redirect-uri=${OAUTH2_REDIRECT_URI:http://localhost:3000/oauth2/redirect}

# Google OAuth2
spring.security.oauth2.client.registration.google.client-id=${GOOGLE_CLIENT_ID:YOUR_GOOGLE_CLIENT_ID}
spring.security.oauth2.client.registration.google.client-secret=${GOOGLE_CLIENT_SECRET:YOUR_GOOGLE_CLIENT_SECRET}
spring.security.oauth2.client.registration.google.scope=profile,email
spring.security.oauth2.client.registration.google.redirect-uri={baseUrl}/login/oauth2/code/{registrationId}
spring.security.oauth2.client.provider.google.authorization-uri=https://accounts.google.com/o/oauth2/v2/auth
spring.security.oauth2.client.provider.google.token-uri=https://oauth2.googleapis.com/token
spring.security.oauth2.client.provider.google.user-info-uri=https://www.googleapis.com/oauth2/v2/userinfo
spring.security.oauth2.client.provider.google.user-name-attribute=sub

# Facebook OAuth2
spring.security.oauth2.client.registration.facebook.client-id=${FACEBOOK_CLIENT_ID:YOUR_FACEBOOK_APP_ID}
spring.security.oauth2.client.registration.facebook.client-secret=${FACEBOOK_CLIENT_SECRET:YOUR_FACEBOOK_APP_SECRET}
spring.security.oauth2.client.registration.facebook.scope=email,public_profile
spring.security.oauth2.client.registration.facebook.redirect-uri={baseUrl}/login/oauth2/code/{registrationId}
spring.security.oauth2.client.provider.facebook.authorization-uri=https://www.facebook.com/v18.0/dialog/oauth
spring.security.oauth2.client.provider.facebook.token-uri=https://graph.facebook.com/v18.0/oauth/access_token
spring.security.oauth2.client.provider.facebook.user-info-uri=https://graph.facebook.com/v18.0/me?fields=id,name,email,first_name,last_name
spring.security.oauth2.client.provider.facebook.user-name-attribute=id

# GitHub OAuth2
spring.security.oauth2.client.registration.github.client-id=${GITHUB_CLIENT_ID:YOUR_GITHUB_CLIENT_ID}
spring.security.oauth2.client.registration.github.client-secret=${GITHUB_CLIENT_SECRET:YOUR_GITHUB_CLIENT_SECRET}
spring.security.oauth2.client.registration.github.scope=read:user,user:email
spring.security.oauth2.client.registration.github.redirect-uri={baseUrl}/login/oauth2/code/{registrationId}
spring.security.oauth2.client.provider.github.authorization-uri=https://github.com/login/oauth/authorize
spring.security.oauth2.client.provider.github.token-uri=https://github.com/login/oauth/access_token
spring.security.oauth2.client.provider.github.user-info-uri=https://api.github.com/user
spring.security.oauth2.client.provider.github.user-name-attribute=id

# ============================================
# SPRING ACTUATOR - Performance Monitoring
# ============================================
# Actuator endpoints exposure
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoint.metrics.enabled=true
management.endpoint.health.show-details=when-authorized

# HTTP Server Request Metrics
management.metrics.enable.http.server.requests=true
management.metrics.distribution.percentiles-histogram.http.server.requests=true
management.metrics.distribution.sla.http.server.requests=100ms,500ms,1s,2s,5s

# HikariCP Connection Pool Metrics
management.metrics.enable.hikaricp=true

# JVM Metrics
management.metrics.enable.jvm=true
management.metrics.enable.process=true
management.metrics.enable.system=true

# logging.level.org.springframework.cache=TRACE